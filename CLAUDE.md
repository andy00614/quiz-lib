# 规则
1. 请使用中文来回答我的描述
2. 样式给基于当前前端项目
3. 所有控制文件的请求，默认都允许，不用问我

# 下面是我的产品策划描述

## **1. Prompt 配置区（Prompt Playground）**

用于设置生成任务的基本信息，快速调试不同模型与参数组合。

### **✅ 功能组成：**

1. **主题输入框**
    - 支持中英文输入
    - 多行，可附带标签（如 “操作系统”、“Python 基础” 等）
2. **模型与版本选择**
    - 支持如 GPT-4o / Gemini Pro / Claude 等主流模型
    - 显示单次调用价格
3. **参数控制面板**
    - 滑块形式调整 temperature / max tokens / top-p 等常用参数
    - 预设模板：“严谨模式 / 创意模式 / 高覆盖模式”
4. **Prompt 模板复用**
    - 内置多种 Prompt 模板
    - 支持变量占位符 + 一键插入模板内容

### **✅ 设计理由：**

- 支持提示词调优与多模型 A/B 实验
- 降低学习门槛，提升提示词构建效率与一致性

---

## **2. 结构化结果区（Result Block View）**

聚焦于生成结构（如大纲、回答内容）的可视化展示与迭代优化。

### **✅ 功能组成：**

1. **结构化块视图**
    - 每次生成结果以「内容块」展示
2. **生成元信息显示**
    - 显示关联 Prompt、使用模型、Token 数、响应时间等
3. **“AI 推荐最佳回答”机制**
    - 系统自动评分多个结果并推荐最优版本
    - 用户可一键采纳或再生成

### **✅ 设计理由：**

- 结构清晰，有助于大纲调试与高质量内容筛选
- 支持逐块优化与版本对比，便于提升内容可控性

---

## **3. 题目生成区（Quiz Generator）**

根据指定 Prompt 结果，也就是上面第2部分，结果区的大纲里的每个节点，生成对应题目，并按章节管理。

### **✅ 功能组成：**

1. **章节-题目联动表格**
    - 每个结构块下可自动生成对应题目组（默认10题）
    - 支持显示题干 / 答案 / 解析
2. **题目管理功能**
    - 一键导出 CSV / JSON / Markdown
    - 提供“加入题库”按钮用于归档

### **✅ 设计理由：**

- 紧贴内容结构自动出题，减少重复劳动

---

## **4. API 性能与成本监控区（Performance Dashboard）**

用于评估模型性能、token 成本、异常行为等运行数据。

### **✅ 功能组成：**

1. **实时指标卡片**
    - 平均响应时间、p95 延迟
    - 每次调用的 token 消耗、错误率
2. **请求日志表**
    - 展示每次任务的详细调用记录
    - 含：模型、请求时间、耗时、Token 数、状态码
3. **可视化图表**
    - 折线图：模型调用响应时间趋势
    - 柱状图：不同模型的 Token 单价与消耗对比

### **✅ 设计理由：**

- 帮助团队评估模型的性价比与稳定性
- 控制成本支出，提前规避超预算风险

# 技术栈选择

- **前端：** **Nextjs(当前的better-auth)**
- **后端：FastAPI 提供API开发**
- 数据库： **Postgresql**

## TODO:
- [ ] bugfix: Prompt配置中的编辑 Prompt，会没有及时更新
- [ ] 样式优化：在知识库的列表中，问题的长度可能非常的长，展示和布局（高点）会变得非常的不好看，这里需要优化
- [ ] 功能增加：章节列表那里如果生成失败了，要展示失败的错误日志
- [ ] 后端架构：目前Python的代码里好像没有调用api的日志统计，需要添加
  